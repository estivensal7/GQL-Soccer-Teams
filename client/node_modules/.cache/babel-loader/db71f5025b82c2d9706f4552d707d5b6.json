{"ast":null,"code":"var _jsxFileName = \"/Users/estivensalazar/Desktop/Code/GraphQL_Async_App/client/src/components/AddBook/AddBook.js\";\nimport React, { Component } from \"react\";\nimport { graphql } from \"react-apollo\";\nimport { getAuthorsQuery, addBookMutation, getBooksQuery } from \"../../Queries/queries\";\nimport { flowRight as compose } from \"lodash\";\n\nclass AddBook extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      genre: \"\",\n      authorId: \"\"\n    };\n  }\n\n  displayAuthorsLoading() {\n    let data = this.props.getAuthorsQuery;\n\n    if (data.loading === true) {\n      return React.createElement(\"option\", {\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, \"Loading Authors...\");\n    } else {\n      return React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Select Author\");\n    }\n  }\n\n  displayAuthors() {\n    let data = this.props.getAuthorsQuery;\n\n    if (data.loading === false) {\n      return data.authors.map(author => {\n        return React.createElement(\"option\", {\n          key: author.id,\n          value: author.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, author.name);\n      });\n    }\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    console.log(this.state);\n    this.props.addBookMutation({\n      variables: {\n        name: this.state.name,\n        genre: this.state.genre,\n        authorId: this.state.authorId\n      },\n      refetchQueries: [{\n        query: getBooksQuery\n      }]\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.submitForm.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Book's Name\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Book's name\",\n      onChange: e => {\n        this.setState({\n          name: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Book's Genre\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"\",\n      onChange: e => {\n        this.setState({\n          genre: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"exampleFormControlSelect2\",\n      onChange: e => {\n        this.setState({\n          authorId: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.displayAuthorsLoading(), this.displayAuthors())), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      value: \"Submit\",\n      style: {\n        backgroundColor: \"#003366\",\n        border: \"none\",\n        color: \"white\",\n        borderRadius: \"3px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Add New Book\"));\n  }\n\n}\n\nexport default compose(graphql(getAuthorsQuery, {\n  name: \"getAuthorsQuery\"\n}), graphql(addBookMutation, {\n  name: \"addBookMutation\"\n}))(AddBook);","map":{"version":3,"sources":["/Users/estivensalazar/Desktop/Code/GraphQL_Async_App/client/src/components/AddBook/AddBook.js"],"names":["React","Component","graphql","getAuthorsQuery","addBookMutation","getBooksQuery","flowRight","compose","AddBook","constructor","props","state","name","genre","authorId","displayAuthorsLoading","data","loading","displayAuthors","authors","map","author","id","submitForm","e","preventDefault","console","log","variables","refetchQueries","query","render","bind","setState","target","value","backgroundColor","border","color","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { graphql } from \"react-apollo\";\nimport {\n\tgetAuthorsQuery,\n\taddBookMutation,\n\tgetBooksQuery\n} from \"../../Queries/queries\";\nimport { flowRight as compose } from \"lodash\";\n\nclass AddBook extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tgenre: \"\",\n\t\t\tauthorId: \"\"\n\t\t};\n\t}\n\n\tdisplayAuthorsLoading() {\n\t\tlet data = this.props.getAuthorsQuery;\n\n\t\tif (data.loading === true) {\n\t\t\treturn <option disabled>Loading Authors...</option>;\n\t\t} else {\n\t\t\treturn <option>Select Author</option>;\n\t\t}\n\t}\n\n\tdisplayAuthors() {\n\t\tlet data = this.props.getAuthorsQuery;\n\n\t\tif (data.loading === false) {\n\t\t\treturn data.authors.map(author => {\n\t\t\t\treturn (\n\t\t\t\t\t<option\n\t\t\t\t\t\tkey={author.id}\n\t\t\t\t\t\tvalue={author.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t{author.name}\n\t\t\t\t\t</option>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n\n\tsubmitForm(e) {\n\t\te.preventDefault();\n\t\tconsole.log(this.state);\n\t\tthis.props.addBookMutation({\n\t\t\tvariables: {\n\t\t\t\tname: this.state.name,\n\t\t\t\tgenre: this.state.genre,\n\t\t\t\tauthorId: this.state.authorId\n\t\t\t},\n\t\t\trefetchQueries: [\n\t\t\t\t{\n\t\t\t\t\tquery: getBooksQuery\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form onSubmit={this.submitForm.bind(this)}>\n\t\t\t\t{/* Book's name input field */}\n\t\t\t\t<label>Book's Name</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Book's name\"\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tname: e.target.value\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{/* Book's genre input field */}\n\t\t\t\t<label>Book's Genre</label>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tgenre: e.target.value\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{/* Author dropdown list */}\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Author</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"exampleFormControlSelect2\"\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tauthorId:\n\t\t\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t\t\t.value\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.displayAuthorsLoading()}\n\t\t\t\t\t\t{this.displayAuthors()}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t{/* Submit Form Button */}\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"Submit\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: \"#003366\",\n\t\t\t\t\t\tborder: \"none\",\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\tborderRadius: \"3px\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tAdd New Book\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport default compose(\n\tgraphql(getAuthorsQuery, { name: \"getAuthorsQuery\" }),\n\tgraphql(addBookMutation, { name: \"addBookMutation\" })\n)(AddBook);\n"]},"metadata":{},"sourceType":"module"}